<% provide(:title, 'Order_up') %>
<section class="hero is-info is-bold is-small">
  <div class="hero-body">
    <div class="container">
      <h1 class="title has-text-centered">
        指示書作成
      </h1>
    </div>
  </div>
</section>
<%= form_with(model: @order, url: user_orders_path(@user), local: true) do |f| %>
<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-10">
         <div class="table-container">
           <table class="table is-bordered is-hoverable is-fullwidth" id="order-table">
             <tr>
               <th>技工所名</th>
               <th colspan = "5">
                 <div class="has-text-weight-semibold is-size-5">デンタルラボラトリー</div>
               </th>
             </tr>
             <tr>
               <th>医院名</th>
               <td colspan = "5">
                 <div class="has-text-weight-semibold is-size-5"><%= current_user.name %>&ensp;様</div>
               </td>
             </tr>
             <tr>
               <th class="select-table">患者名</th>
               <td colspan = "3">
                 <div class="field">
                   <p class="control has-icons-left">
                     <%= f.text_field :patient_name, class: "input is-info" %>
                     <span class="icon is-small is-left">
                       <i class="fas fa-user"></i>
                     </span>
                   </p> 
                 </div>   
               </td>
               <th class="select-table">性別</th>
               <td class="select-table">
                 <div class="select is-info is-small">
                   <%= f.select :sex, [['男', '男'], ['女', '女']], { include_blank: '選択してください' } %>
                 </div>
               </td>
             </tr>
             <tr>
               <th class="select-tag">受付日</th>
               <td class="select-date">
                 <%= f.date_field :reception_date, class: "input is-small is-info" %>
               </td>
               <th class="select-tag">色</th>
               <td class="select-order">
                <div class="select is-info is-small">
                  <%= f.select :color, Order.colors_i18n.invert, {include_blank: '選択してください'} %>
                </div>  
               </td>
               <th class="select-tag">単冠 or 連結</th>
               <td class="select-order">
                 <div class="select is-info is-small">
                   <%= f.select :crown, [['単冠', '単冠'], ['連結', '連結']], { include_blank: '選択してください' }%>
                 </div> 
               </td>
             </tr>
             <tr>
               <th colspan = "6">
                 ・部位 ・注意事項
               </th>
             </tr>
             <tr>
               <td colspan = "6">
                 <%= f.text_area :note, :placeholder => "部位・注意事項", class: "textarea is-info is-medium" %>
               </td>
             </tr>
             <tr>
               <th colspan = "6">
                 注文内容
               </th>
             </tr>
             <tr>
               <td colspan = "6">
                 <div class="checkbox">
                   <% ["AC","MB","e-max","CAD/CAM冠", "前装冠", "FCK", "インレー", "総義歯", "部分床義歯"].each do |order| %>
                     <%= f.check_box :content, {multiple: true}, order, nil %>
                     <%= order %>&emsp;&nbsp;
                   <% end %>
                 </div>
                 <div class="field is-grouped">
                   <div class="control-order">
                     その他
                   </div>
                   <div class="control-field">
                     <%= f.text_field :content, class: "input is-small is-info" %>
                   </div>
                   <div class="control-field">
                     <font color="red"><p class="warning-text is-size-7">※その他記入の場合チェック欄にチェックしないでください。</p></font>
                   </div>
                 </div>
               </td>
             </tr>
             <tr>
               <th class="select-metal">使用金属</th>
               <td>
                 <%= f.text_field :metal, :placeholder => "金属名", class: "input is-info is-small" %>
               </td>
               <th></th>
               <td>
                 <%= f.number_field :weight, step: '0.1', min: "0.0", :placeholder => "g", class: "input is-info is-small" %>
               </td>
               <td colspan = "2"></td>
             </tr>
             <tr>
               <th colspan = "6">口腔内写真</th>
             </tr>
             <tr>
               <td colspan = "2"></td>
               <td colspan = "2"></td>
               <td colspan = "2"></td>
             </tr>
             <tr>
               <th class="select-tag">試適１</th>
               <td class="select-date">
                 <%= f.datetime_field :first_try, class: "input is-small is-info" %>
               </td>
               <th class="select-tag">試適２</th>
               <td class="select-date">
                <%= f.datetime_field :second_try, class: "input is-small is-info" %>  
               </td>
               <th class="select-tag">完成日</th>
               <td class="select-date">
                <%= f.datetime_field :complete_day, class: "input is-small is-info" %>  
               </td>
             </tr>
           </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<% end %>